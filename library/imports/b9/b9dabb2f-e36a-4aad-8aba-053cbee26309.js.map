{"version":3,"sources":["../../../../assets/scrips/assets/scrips/Player.js"],"names":["Side","cc","Enum","left","right","Class","extends","Component","properties","_side","side","get","set","value","type","player","Node","index","targetindex","statics","ctor","init","Math","random","targetside","isMoving","playerFlag","createPlayerAnimation","animationName","animationTimes","nodeTest","name","sprite","addComponent","Sprite","spriteFrame","SpriteFrame","url","raw","parent","animation","Animation","loader","loadRes","err","clip","addClip","animStatus","play","repeatCount","Infinity","frameEvent","a","b","log"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIA,OAAOC,GAAGC,IAAH,CAAQ;AACfC,UAAK,CADU;AAEfC,WAAM;AAFS,CAAR,CAAX;;AAKAH,GAAGI,KAAH,CAAS;AACLC,aAASL,GAAGM,SADP;;AAGLC,gBAAY;AACRC,eAAQ,IADA;AAERC,cAAO;AACHC,iBAAI,eAAU;AACV,uBAAO,KAAKF,KAAZ;AACH,aAHE;AAIHG,iBAAI,aAASC,KAAT,EAAe;AACf,qBAAKJ,KAAL,GAAaI,KAAb;AACH,aANE;AAOHC,kBAAKd;AAPF,SAFC;AAWRe,gBAASd,GAAGe,IAXJ;AAYRC,eAAQ,IAZA;AAaRC,qBAAa;AAbL,KAHP;AAkBLC,aACA;AACInB;AADJ,KAnBK;AAsBLoB,QAtBK,kBAsBC;AACF,aAAKV,IAAL,GAAY,IAAZ;AACA,aAAKO,KAAL,GAAa,CAAb;AACA;AACH,KA1BI;;AA2BLI,UAAK,cAASJ,KAAT,EAAe;AAAC;AACjB,aAAKP,IAAL,GAAYY,KAAKC,MAAL,KAAe,GAAf,IAAsBvB,KAAKG,IAA3B,IAAmCH,KAAKI,KAApD;AACA,aAAKoB,UAAL,GAAkB,KAAKd,IAAvB;AACA,aAAKe,QAAL,GAAgB,KAAhB;AACA;AACA,aAAKP,WAAL,GAAmBD,KAAnB;AACA,aAAKS,UAAL,GAAkB,CAAC,CAAnB;AACA;AACA,YAAGT,SAAS,CAAZ,EACA;AACI,iBAAKS,UAAL,GAAkBT,KAAlB;AACH;AACD;AACI;AACA;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAKF,MAAL,GAAc,KAAKY,qBAAL,CAA2B,4BAA3B,EAAwD,CAAxD,CAAd;AACH,KAxDI;;AA0DL;AACAA,2BAAsB,+BAASC,aAAT,EAAwBC,cAAxB,EAAuC;AACzD;AACA,YAAIC,WAAW,IAAI7B,GAAGe,IAAP,EAAf;AACAc,iBAASC,IAAT,GAAgB,UAAhB;;AAEA,YAAIC,SAASF,SAASG,YAAT,CAAsBhC,GAAGiC,MAAzB,CAAb;AACAF,eAAOG,WAAP,GAAqB,IAAIlC,GAAGmC,WAAP,CAAmBnC,GAAGoC,GAAH,CAAOC,GAAP,CAAWV,gBAAgB,OAA3B,CAAnB,CAArB;;AAEAE,iBAASS,MAAT,GAAkB,KAAKxB,MAAvB;;AAEA,YAAIyB,YAAYV,SAASG,YAAT,CAAsBhC,GAAGwC,SAAzB,CAAhB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEAxC,WAAGyC,MAAH,CAAUC,OAAV,CAAkB,kBAAlB,EAAsC,UAASC,GAAT,EAAcC,IAAd,EAAoB;AACzDL,sBAAUM,OAAV,CAAkBD,IAAlB,EAAwB,QAAxB;AACA,gBAAIE,aAAaP,UAAUQ,IAAV,CAAe,QAAf,CAAjB;AACA;AACAD,uBAAWE,WAAX,GAAyBC,QAAzB;AACA,SALD;;AAOA,eAAOpB,QAAP;AAEH,KAhGI;;AAkGLqB,gBAAW,oBAASC,CAAT,EAAWC,CAAX,EAAa;AACpBpD,WAAGqD,GAAH,CAAO,oBAAP;AACArD,WAAGqD,GAAH,CAAOD,CAAP;AACH;;AArGI,CAAT","file":"Player.js","sourceRoot":"../../../../assets/scrips","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\nvar Side = cc.Enum({\n    left:1,\n    right:2\n});\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        _side : null,\n        side : {\n            get:function(){\n                return this._side;\n            },\n            set:function(value){\n                this._side = value;\n            },\n            type:Side\n        },\n        player : cc.Node,\n        index : null,\n        targetindex :null,\n    },\n    statics:\n    {\n        Side\n    },\n    ctor(){\n        this.side = null;\n        this.index = 0;\n        // this.match_players_node = [];\n    },\n    init:function(index){//maxPlayerNum){\n        this.side = Math.random() >0.5 && Side.left || Side.right;\n        this.targetside = this.side\n        this.isMoving = false\n        // this.index = index;\n        this.targetindex = index;\n        this.playerFlag = -1;\n        //自己的标志 以后可以给其他人也加上标识\n        if(index == 0)\n        {\n            this.playerFlag = index;\n        }\n        // for (var i = 1; i < maxPlayerNum; i++) {\n            // var node = new cc.Node();\n            // var sprite = node.addComponent(cc.Sprite);\n            // sprite.spriteFrame = new cc.SpriteFrame(cc.url.raw('resources/ic_morenhead0.png'));\n        // }\n        // var node = new cc.Node();\n        // var sprite = node.addComponent(cc.Sprite);\n        // if(index == 0)\n        // {\n        //     // sprite.spriteFrame = new cc.SpriteFrame(cc.url.raw('resources/answerscene/ren_1.png'));\n        // }\n        // else{\n        //     // sprite.spriteFrame = new cc.SpriteFrame(cc.url.raw('resources/answerscene/ren_2.png'));\n        // }\n        // var node = new cc.Sprite('resources/ic_morenhead0.png');\n\n        this.player = this.createPlayerAnimation('resources/answerscene/ren_',2);\n    },\n\n    //创建人物帧动画\n    createPlayerAnimation:function(animationName, animationTimes){\n        /* 动态添加动画代码示例 */\n        var nodeTest = new cc.Node();\n        nodeTest.name = 'NodeTest';\n \n        var sprite = nodeTest.addComponent(cc.Sprite);\n        sprite.spriteFrame = new cc.SpriteFrame(cc.url.raw(animationName + '1.png'));\n \n        nodeTest.parent = this.player;\n \n        var animation = nodeTest.addComponent(cc.Animation);\n        \n        /* 添加SpriteFrame到frames数组 */\n        // var frames = [];\n        // for (var i = 0; i < animationTimes; i++) {\n        //     frames[i] = new cc.SpriteFrame(cc.url.raw(animationName + (i+1) + '.png'));\n        // };\n        // var clip = cc.AnimationClip.createWithSpriteFrames(frames, animationTimes);\n        // clip.name = 'anim_kowtow';\n        // clip.wrapMode = cc.WrapMode.Loop;\n \n        // /* 添加关键帧事件 */\n        // clip.events.push({\n        //     frame: 1,                   // 准确的时间，以秒为单位。这里表示将在动画播放到 1s 时触发事件\n        //     func: 'frameEvent',         // 回调函数名称\n        //     params: [1, 'hello']        // 回调参数\n        // });\n\n        cc.loader.loadRes(\"animation/kowtow\", function(err, clip) {\n        \tanimation.addClip(clip, \"kowtow\");\n        \tvar animStatus = animation.play('kowtow');\n        \t// animStatus.wrapMode = cc.WrapMode.Loop;\n        \tanimStatus.repeatCount = Infinity;\n        })\n\n        return nodeTest;\n\n    },\n\n    frameEvent:function(a,b){\n        cc.log(\"磕头磕头磕头磕头磕头磕头磕头磕头磕头\");\n        cc.log(b);\n    }\n\n});\n"]}